相信很多人应该都知道 Redis 有五种数据类型：字符串、列表、哈希、集合和有序集合。但这五种数据类型是什么含义？Redis 的数据又是怎样存储的？今天我们一起来认识下 Redis 这五种数据结构的含义及其底层实现。

首先要明确的是，Redis 并没有直接使用这五种数据结构来实现键值对数据库，而是基于这些数据结构创建了一套对象系统，我们常说的数据类型，准确来说，就是 Redis 对象系统的类型。因此，我们认识 Redis 的数据结构，就是认识 Redis 的对象系统。

### 对象结构
对于 Redis 而言，所有键值对的存储，都是将数据存储在对象结构中。所不同的是，**键总是一个字符串对象，值可以是任意类型的对象**。
对象源码结构如下：
```
typedef struct redisObject {
    unsigned type:4;       // 对象类型
    unsigned encoding:4;   // 对象编码
    unsigned lru:LRU_BITS; // LRU
    int refcount;          // 引用统计
    void *ptr;             // 指向底层实现数据结构的指针
} robj;
```

- type 字段：对象类型，就是我们常说的。string、list、hash、set、zset。
- encoding：对象编码。也就是我们上面说的底层数据结构。
- LRU：键值对的 LRU。
- refcount：键值对对象的引用统计。当此值为 0 时，回收对象。
- *ptr：指向底层实现数据结构的指针。就是实际存放数据的地址。


#### 对象类型
对象有五种数据类型，就是我们上面提过的：
1. 字符串类型
2. 列表类型
3. 哈希类型
4. 集合类型
5. 有序集合类型

结合我们上面提到的键值对存储类型的差别，我们常说的“一个列表键或一个哈希键”，本质上指的是：**一个 key 对应的 value 是列表对象或哈希对象**。

对于 type 字段，我们可以使用 ```TYPE``` 命令来查看指定 key 的 value 值的对象类型。

总结来看，如下图：
![11 种不同编码的数据对象](https://raw.githubusercontent.com/zibinli/blog/master/Redis/_v_images/20190521202055424_22716.png)

十一种数据对象分别是：
1. 使用双端或快速列表实现的列表对象
2. 使用压缩列表实现的列表对象
3. 使用字典实现的哈希对象
4. 使用压缩列表实现的哈希对象
5. 使用字典实现的集合对象
6. 使用整数集合实现的集合对象
7. 使用压缩列表实现的有序集合对象
8. 使用跳跃表实现的有序集合对象
9. 使用普通 SDS 实现的字符串对象
10. 使用 embstr 编码的 SDS 实现的字符串对象
11. 使用整数值实现的字符串对象

### 对象验证
上面了解了 Redis 的对象系统，但这都是理论知识，有没有方法可以实时查看


