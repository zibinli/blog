相信很多人应该都知道 Redis 有五种数据类型：字符串、列表、哈希、集合和有序集合。但对于 Redis 怎么使用者五种数据结构，以及这些数据结构的底层实现，可能会懵懵懂懂。今天我们一起来认识下 Redis 这五种数据结构的使用及其底层实现。

### 对象结构与类别
首先要明确的是，Redis 并没有直接使用这五种数据结构来实现键值对数据库，而是基于这些数据结构创建了一套对象系统，我们常说的数据类型，准确来说，就是 Redis 对象系统的类型。

这个对象系统里包含**字符串对象、列表对象、哈希对象、集合对象和有序集合对象这五种类型的对象**。

而这五种对象使用的数据结构有：**简单动态字符串（SDS）、双端列表、字典、压缩列表、整数列表等数据结构**。每种对象都用到了**至少一种**数据结构。

是不是有点绕？得，咱们一起来看下对应的源码：
```
typedef struct redisObject {
    unsigned type:4;       // 对象类型
    unsigned encoding:4;   // 对象编码
    unsigned lru:LRU_BITS; // LRU 
    int refcount;          // 引用统计
    void *ptr;             // 指向底层实现数据结构的指针
} robj;
```

- type 字段：对象类型，就是我们常说的。string、list、hash、set、zset
- encoding：对象编码。也就是我们上面说的底层数据结构
- LRU：键值对的 LRU
- refcount：键值对对象的引用统计。当此值为 0 时，回收对象
- *ptr：指向底层实现数据结构的指针。就是实际存放数据的地址

总结来看，如下图：
![11 种不同编码的数据对象](https://raw.githubusercontent.com/zibinli/blog/master/Redis/_v_images/20190521202055424_22716.png)

十一种数据对象分别是：
1. 使用双端或快速列表实现的列表对象
2. 使用压缩列表实现的列表对象
3. 使用字典实现的哈希对象
4. 使用压缩列表实现的哈希对象
5. 使用字典实现的集合对象
6. 使用整数集合实现的集合对象
7. 使用压缩列表实现的有序集合对象
8. 使用跳跃表实现的有序集合对象
9. 使用普通 SDS 实现的字符串对象
10. 使用 embstr 编码的 SDS 实现的字符串对象
11. 使用整数值实现的字符串对象

### 对象验证
上面了解了 Redis 的对象系统，但这都是理论知识，有没有方法可以实时查看


